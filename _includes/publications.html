<section id="publications">
    <div class="section-container reveal">
        <h2 class="section-title">Publications</h2>

        <div class="pub-filter">
            <label for="pub-category-filter">Filter by type:</label>
            <select id="pub-category-filter" onchange="filterPublications()">
                <option value="all">All</option>
                <option value="published">Published Papers</option>
                <option value="working-paper">Working Papers</option>
            </select>
        </div>

        {% for pub in site.data.publications %}
        <div class="pub-item" data-category="{{ pub.category }}">
            <div class="pub-title">
                {% if pub.url %}<a href="{{ pub.url }}">{{ pub.title }}</a>{% else %}{{ pub.title }}{% endif %}
            </div>
            <div class="pub-authors">
                {% for author in pub.authors %}{% if author == site.author.name %}<strong>{{ author }}</strong>{% else %}{{ author }}{% endif %}{% unless forloop.last %}, {% endunless %}{% endfor %}
            </div>
            <div class="pub-venue">
                {{ pub.venue }}
                {% if pub.award %}<span class="pub-award">üèÜ {{ pub.award }}</span>{% endif %}
            </div>
            {% if pub.links %}
            <div class="pub-links">
                {% for link in pub.links %}
                <a href="{{ link.url }}" class="pub-link">{{ link.name }}</a>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>

    <script>
    function filterPublications() {
        const filter = document.getElementById('pub-category-filter').value;
        const items = document.querySelectorAll('.pub-item');

        items.forEach(item => {
            if (filter === 'all' || item.dataset.category === filter) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    }
    </script>
</section>
